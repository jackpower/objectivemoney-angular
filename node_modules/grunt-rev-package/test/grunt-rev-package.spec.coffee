fs    = require('fs')
pkg   = require('../package.json')

describe "Rename files using package.json.version", ->

  expectedFileNames = null
  outputFiles       = null
  version           = null

  beforeEach ->
    version = pkg.version

    outputFiles = fs.readdirSync("test/output")

    expectedFileNames = [
      "testFile." + version + ".js",
      "testFile.min." + version + ".js"
    ]

  it "files are renamed correctly", ->
    index = 0
    outputFiles.forEach (oneFile) ->
      expect(expectedFileNames.indexOf(oneFile)).toBeGreaterThan(-1)

