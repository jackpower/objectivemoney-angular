var omApp=angular.module("omApp","ngRoute ui.bootstrap ui.slider vsGoogleAutocomplete ngAnimate ngMessages toaster ngResource angulartics angulartics.google.analytics".split(" "));
omApp.config(["$routeProvider",function(b){b.when("/",{templateUrl:"pages/home.html",controller:"searchController"}).when("/search",{templateUrl:"pages/search.html",controller:"searchController"}).when("/resources",{templateUrl:"pages/resources.html",controller:"resourcesController"}).when("/how-to-ensure-your-planners-not-a-scammer",{templateUrl:"pages/blog/how-to-ensure-your-planner-not-a-scammer.html",controller:"resourcesController"}).when("/what-is-the-value-of-a-financial-planner",{templateUrl:"pages/blog/what-is-the-value-of-a-financial-planner.html",
controller:"resourcesController"}).when("/choose-your-planner-like-you-would-a-friend-not-a-toothbrush",{templateUrl:"pages/blog/choose-your-planner-like-you-would-a-friend-not-a-toothbrush.html",controller:"resourcesController"}).when("/introduction-to-financial-markets",{templateUrl:"pages/blog/introduction-to-financial-markets.html",controller:"resourcesController"}).when("/what-fees-does-a-financial-planner-charge",{templateUrl:"pages/blog/what-fees-does-a-financial-planner-charge.html",controller:"resourcesController"}).when("/what-is-an-independent-financial-planner",
{templateUrl:"pages/blog/what-is-an-independent-financial-planner.html",controller:"resourcesController"}).when("/login",{templateUrl:"pages/plannerlogin.html",controller:"plannerRegController"}).when("/signupthanks",{templateUrl:"pages/signupthanks.html",controller:"plannerRegController"}).when("/plannerprofilefull:id",{templateUrl:"pages/plannerprofilefull.html",controller:"searchController"}).when("/plannerenquiry:id",{templateUrl:"pages/plannerenquiry.html",controller:"searchController"}).when("/enquire:id",
{templateUrl:"pages/enquire.html",controller:"searchController"}).when("/enquirythanks:id",{templateUrl:"pages/enquirythanks.html",controller:"searchController"}).when("/plannerrating:id",{templateUrl:"pages/plannerrating.html",controller:"searchController"}).when("/fullplannerreviews:id",{templateUrl:"pages/fullplannerreviews.html",controller:"searchController"}).when("/reviewthanks:id",{templateUrl:"pages/reviewthanks.html",controller:"searchController"}).when("/review:id",{templateUrl:"pages/review.html",
controller:"searchController"}).when("/plannerreviews:id",{templateUrl:"pages/plannerreviews.html",controller:"searchController"}).when("/userlogin",{templateUrl:"pages/userlogin.html",controller:"searchController"}).when("/userregister",{templateUrl:"pages/userregister.html",controller:"searchController"}).otherwise({redirectTo:"/"})}]);
omApp.filter("capitalize",function(){return function(b,a){return b?b.replace(/([^\W_]+[^\s-]*) */g,function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()}):""}});omApp.filter("ageFilter",function(){return function(b){var a;a=Date.now()-b.getTime();a=Math.abs((new Date(a)).getUTCFullYear()-1970);return 0===a?(a=new Date,b<a?(b=a.getMonth()-b.getMonth(),b=0>=b?0:b):b=0,b+" months"):1===a?a+" year":a+" years"}});
omApp.run(function(b,a,d,f){a.$on("$routeChangeStart",function(g,e,h){a.authenticated=!1;f.get("session").then(function(c){c.userid&&(a.authenticated=!0,a.userid=c.userid,a.name=c.name,a.email=c.email);0==a.authenticated&&("pages/enquire.html"==e.templateUrl&&d.path("/plannerenquiry"+b.id),"pages/review.html"==e.templateUrl&&d.path("/plannerrating"+b.id))})})});